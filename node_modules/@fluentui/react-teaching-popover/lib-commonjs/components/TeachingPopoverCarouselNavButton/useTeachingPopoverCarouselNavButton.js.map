{"version":3,"sources":["../src/components/TeachingPopoverCarouselNavButton/useTeachingPopoverCarouselNavButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ARIAButtonSlotProps, useARIAButtonProps } from '@fluentui/react-aria';\nimport { usePopoverContext_unstable } from '@fluentui/react-popover';\nimport { useTabsterAttributes } from '@fluentui/react-tabster';\nimport { getIntrinsicElementProps, isHTMLElement, slot, useEventCallback } from '@fluentui/react-utilities';\n\nimport type {\n  TeachingPopoverCarouselNavButtonProps,\n  TeachingPopoverCarouselNavButtonState,\n} from './TeachingPopoverCarouselNavButton.types';\nimport { useCarouselContext_unstable } from '../TeachingPopoverCarousel/Carousel/CarouselContext';\nimport { useValueIdContext } from '../TeachingPopoverCarouselNav/valueIdContext';\n\n/**\n * Create the state required to render TeachingPopoverCarouselNavButton.\n *\n * The returned state can be modified with hooks such as useTeachingPopoverCarouselNavButtonStyles_unstable,\n * before being passed to renderTeachingPopoverCarouselNavButton_unstable.\n *\n * @param props - props from this instance of TeachingPopoverCarouselNavButton\n * @param ref - reference to root HTMLElement of TeachingPopoverCarouselNavButton\n */\nexport const useTeachingPopoverCarouselNavButton_unstable = (\n  props: TeachingPopoverCarouselNavButtonProps,\n  ref: React.Ref<HTMLButtonElement | HTMLAnchorElement>,\n): TeachingPopoverCarouselNavButtonState => {\n  const { onClick, as = 'a' } = props;\n\n  const value = useValueIdContext();\n\n  const appearance = usePopoverContext_unstable(context => context.appearance);\n  const selectPageByValue = useCarouselContext_unstable(c => c.selectPageByValue);\n  const isSelected = useCarouselContext_unstable(c => c.value === value);\n\n  const handleClick: ARIAButtonSlotProps<'a'>['onClick'] = useEventCallback(event => {\n    onClick?.(event);\n\n    if (!event.defaultPrevented && isHTMLElement(event.target)) {\n      selectPageByValue(event, value);\n    }\n  });\n\n  const defaultTabProps = useTabsterAttributes({\n    focusable: { isDefault: isSelected },\n  });\n\n  const _carouselButton = slot.always<ARIAButtonSlotProps<'a'>>(\n    getIntrinsicElementProps(as, useARIAButtonProps(props.as, props)),\n    {\n      elementType: 'button',\n      defaultProps: {\n        ref: ref as React.Ref<HTMLButtonElement & HTMLAnchorElement>,\n        role: 'tab',\n        type: 'button',\n        'aria-selected': `${!!isSelected}`,\n        ...defaultTabProps,\n      },\n    },\n  );\n\n  _carouselButton.onClick = handleClick;\n\n  const state: TeachingPopoverCarouselNavButtonState = {\n    isSelected,\n    appearance,\n    components: {\n      root: 'button',\n    },\n    root: _carouselButton,\n  };\n\n  return state;\n};\n"],"names":["useTeachingPopoverCarouselNavButton_unstable","props","ref","onClick","as","value","useValueIdContext","appearance","usePopoverContext_unstable","context","selectPageByValue","useCarouselContext_unstable","c","isSelected","handleClick","useEventCallback","event","defaultPrevented","isHTMLElement","target","defaultTabProps","useTabsterAttributes","focusable","isDefault","_carouselButton","slot","always","getIntrinsicElementProps","useARIAButtonProps","elementType","defaultProps","role","type","state","components","root"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAsBaA;;;eAAAA;;;;iEAtBU;2BACiC;8BACb;8BACN;gCAC2C;iCAMpC;gCACV;AAW3B,MAAMA,+CAA+C,CAC1DC,OACAC;IAEA,MAAM,EAAEC,OAAO,EAAEC,KAAK,GAAG,EAAE,GAAGH;IAE9B,MAAMI,QAAQC,IAAAA,iCAAAA;IAEd,MAAMC,aAAaC,IAAAA,wCAAAA,EAA2BC,CAAAA,UAAWA,QAAQF,UAAU;IAC3E,MAAMG,oBAAoBC,IAAAA,4CAAAA,EAA4BC,CAAAA,IAAKA,EAAEF,iBAAiB;IAC9E,MAAMG,aAAaF,IAAAA,4CAAAA,EAA4BC,CAAAA,IAAKA,EAAEP,KAAK,KAAKA;IAEhE,MAAMS,cAAmDC,IAAAA,gCAAAA,EAAiBC,CAAAA;QACxEb,YAAAA,QAAAA,YAAAA,KAAAA,IAAAA,KAAAA,IAAAA,QAAUa;QAEV,IAAI,CAACA,MAAMC,gBAAgB,IAAIC,IAAAA,6BAAAA,EAAcF,MAAMG,MAAM,GAAG;YAC1DT,kBAAkBM,OAAOX;QAC3B;IACF;IAEA,MAAMe,kBAAkBC,IAAAA,kCAAAA,EAAqB;QAC3CC,WAAW;YAAEC,WAAWV;QAAW;IACrC;IAEA,MAAMW,kBAAkBC,oBAAAA,CAAKC,MAAM,CACjCC,IAAAA,wCAAAA,EAAyBvB,IAAIwB,IAAAA,6BAAAA,EAAmB3B,MAAMG,EAAE,EAAEH,SAC1D;QACE4B,aAAa;QACbC,cAAc;YACZ5B,KAAKA;YACL6B,MAAM;YACNC,MAAM;YACN,iBAAiB,CAAC,EAAE,CAAC,CAACnB,WAAW,CAAC;YAClC,GAAGO,eAAe;QACpB;IACF;IAGFI,gBAAgBrB,OAAO,GAAGW;IAE1B,MAAMmB,QAA+C;QACnDpB;QACAN;QACA2B,YAAY;YACVC,MAAM;QACR;QACAA,MAAMX;IACR;IAEA,OAAOS;AACT"}