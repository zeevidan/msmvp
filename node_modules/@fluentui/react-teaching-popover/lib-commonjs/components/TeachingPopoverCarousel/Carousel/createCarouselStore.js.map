{"version":3,"sources":["../src/components/TeachingPopoverCarousel/Carousel/createCarouselStore.ts"],"sourcesContent":["import { type CarouselStore } from './Carousel.types';\n\nexport const createCarouselStore = (): CarouselStore => {\n  let values: string[] = [];\n  let listeners: Array<() => void> = [];\n\n  const carouselStore = {\n    clear() {\n      values = [];\n      emitChange();\n    },\n    addValue(value: string) {\n      values = [...values, value];\n\n      emitChange();\n    },\n    insertValue(value: string, prev: string | null) {\n      if (!prev) {\n        values = [value, ...values];\n      } else {\n        const pos = values.indexOf(prev);\n        values.splice(pos + 1, 0, value);\n        // Required to be defined as a 'new' array for useSyncExternalStore\n        values = [...values];\n      }\n      emitChange();\n    },\n    removeValue(value: string) {\n      const pos = values.indexOf(value);\n      values.splice(pos, 1);\n      // Required to be defined as a 'new' array for useSyncExternalStore\n      values = [...values];\n      emitChange();\n    },\n    subscribe(listener: () => void) {\n      listeners = [...listeners, listener];\n\n      return () => {\n        listeners = listeners.filter(l => l !== listener);\n      };\n    },\n    getSnapshot() {\n      return values;\n    },\n  };\n\n  function emitChange() {\n    for (const listener of listeners) {\n      listener();\n    }\n  }\n\n  return carouselStore;\n};\n"],"names":["createCarouselStore","values","listeners","carouselStore","clear","emitChange","addValue","value","insertValue","prev","pos","indexOf","splice","removeValue","subscribe","listener","filter","l","getSnapshot"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,MAAMA,sBAAsB;IACjC,IAAIC,SAAmB,EAAE;IACzB,IAAIC,YAA+B,EAAE;IAErC,MAAMC,gBAAgB;QACpBC;YACEH,SAAS,EAAE;YACXI;QACF;QACAC,UAASC,KAAa;YACpBN,SAAS;mBAAIA;gBAAQM;aAAM;YAE3BF;QACF;QACAG,aAAYD,KAAa,EAAEE,IAAmB;YAC5C,IAAI,CAACA,MAAM;gBACTR,SAAS;oBAACM;uBAAUN;iBAAO;YAC7B,OAAO;gBACL,MAAMS,MAAMT,OAAOU,OAAO,CAACF;gBAC3BR,OAAOW,MAAM,CAACF,MAAM,GAAG,GAAGH;gBAC1B,mEAAmE;gBACnEN,SAAS;uBAAIA;iBAAO;YACtB;YACAI;QACF;QACAQ,aAAYN,KAAa;YACvB,MAAMG,MAAMT,OAAOU,OAAO,CAACJ;YAC3BN,OAAOW,MAAM,CAACF,KAAK;YACnB,mEAAmE;YACnET,SAAS;mBAAIA;aAAO;YACpBI;QACF;QACAS,WAAUC,QAAoB;YAC5Bb,YAAY;mBAAIA;gBAAWa;aAAS;YAEpC,OAAO;gBACLb,YAAYA,UAAUc,MAAM,CAACC,CAAAA,IAAKA,MAAMF;YAC1C;QACF;QACAG;YACE,OAAOjB;QACT;IACF;IAEA,SAASI;QACP,KAAK,MAAMU,YAAYb,UAAW;YAChCa;QACF;IACF;IAEA,OAAOZ;AACT"}