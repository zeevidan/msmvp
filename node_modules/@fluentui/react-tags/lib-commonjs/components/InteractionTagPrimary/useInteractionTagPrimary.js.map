{"version":3,"sources":["../src/components/InteractionTagPrimary/useInteractionTagPrimary.ts"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, mergeCallbacks, slot, useEventCallback } from '@fluentui/react-utilities';\nimport type { InteractionTagPrimaryProps, InteractionTagPrimaryState } from './InteractionTagPrimary.types';\nimport { useInteractionTagContext_unstable } from '../../contexts/interactionTagContext';\n\nconst avatarSizeMap = {\n  medium: 28,\n  small: 20,\n  'extra-small': 16,\n} as const;\n\nconst avatarShapeMap = {\n  rounded: 'square',\n  circular: 'circular',\n} as const;\n\n/**\n * Create the state required to render InteractionTagPrimary.\n *\n * The returned state can be modified with hooks such as useInteractionTagPrimaryStyles_unstable,\n * before being passed to renderInteractionTagPrimary_unstable.\n *\n * @param props - props from this instance of InteractionTagPrimary\n * @param ref - reference to root HTMLButtonElement of InteractionTagPrimary\n */\nexport const useInteractionTagPrimary_unstable = (\n  props: InteractionTagPrimaryProps,\n  ref: React.Ref<HTMLButtonElement>,\n): InteractionTagPrimaryState => {\n  const {\n    appearance,\n    disabled,\n    handleTagSelect,\n    interactionTagPrimaryId,\n    selected: contextSelected,\n    selectedValues,\n    shape,\n    size,\n    value,\n  } = useInteractionTagContext_unstable();\n  const { hasSecondaryAction = false } = props;\n\n  const onClick = useEventCallback(\n    mergeCallbacks(props?.onClick, (event: React.MouseEvent<HTMLButtonElement>) =>\n      handleTagSelect?.(event, { type: 'click', event, value, selectedValues }),\n    ),\n  );\n\n  return {\n    appearance,\n    avatarShape: avatarShapeMap[shape],\n    avatarSize: avatarSizeMap[size],\n    disabled,\n    hasSecondaryAction,\n    selected: contextSelected,\n    shape,\n    size,\n\n    components: {\n      root: 'button',\n      media: 'span',\n      icon: 'span',\n      primaryText: 'span',\n      secondaryText: 'span',\n    },\n\n    root: slot.always(\n      getIntrinsicElementProps('button', {\n        ref,\n        disabled,\n        id: interactionTagPrimaryId,\n        ...(handleTagSelect !== undefined && { 'aria-pressed': contextSelected }),\n        onClick,\n        ...props,\n      }),\n      { elementType: 'button' },\n    ),\n\n    media: slot.optional(props.media, { elementType: 'span' }),\n    icon: slot.optional(props.icon, { elementType: 'span' }),\n    primaryText: slot.optional(props.primaryText, {\n      renderByDefault: true,\n      defaultProps: {\n        children: props.children,\n      },\n      elementType: 'span',\n    }),\n    secondaryText: slot.optional(props.secondaryText, { elementType: 'span' }),\n  };\n};\n"],"names":["useInteractionTagPrimary_unstable","avatarSizeMap","medium","small","avatarShapeMap","rounded","circular","props","ref","appearance","disabled","handleTagSelect","interactionTagPrimaryId","selected","contextSelected","selectedValues","shape","size","value","useInteractionTagContext_unstable","hasSecondaryAction","onClick","useEventCallback","mergeCallbacks","event","type","avatarShape","avatarSize","components","root","media","icon","primaryText","secondaryText","slot","always","getIntrinsicElementProps","id","undefined","elementType","optional","renderByDefault","defaultProps","children"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAyBaA;;;eAAAA;;;;iEAzBU;gCAC0D;uCAE/B;AAElD,MAAMC,gBAAgB;IACpBC,QAAQ;IACRC,OAAO;IACP,eAAe;AACjB;AAEA,MAAMC,iBAAiB;IACrBC,SAAS;IACTC,UAAU;AACZ;AAWO,MAAMN,oCAAoC,CAC/CO,OACAC;IAEA,MAAM,EACJC,UAAU,EACVC,QAAQ,EACRC,eAAe,EACfC,uBAAuB,EACvBC,UAAUC,eAAe,EACzBC,cAAc,EACdC,KAAK,EACLC,IAAI,EACJC,KAAK,EACN,GAAGC,IAAAA,wDAAAA;IACJ,MAAM,EAAEC,qBAAqB,KAAK,EAAE,GAAGb;IAEvC,MAAMc,UAAUC,IAAAA,gCAAAA,EACdC,IAAAA,8BAAAA,EAAehB,UAAAA,QAAAA,UAAAA,KAAAA,IAAAA,KAAAA,IAAAA,MAAOc,OAAO,EAAE,CAACG,QAC9Bb,oBAAAA,QAAAA,oBAAAA,KAAAA,IAAAA,KAAAA,IAAAA,gBAAkBa,OAAO;YAAEC,MAAM;YAASD;YAAON;YAAOH;QAAe;IAI3E,OAAO;QACLN;QACAiB,aAAatB,cAAc,CAACY,MAAM;QAClCW,YAAY1B,aAAa,CAACgB,KAAK;QAC/BP;QACAU;QACAP,UAAUC;QACVE;QACAC;QAEAW,YAAY;YACVC,MAAM;YACNC,OAAO;YACPC,MAAM;YACNC,aAAa;YACbC,eAAe;QACjB;QAEAJ,MAAMK,oBAAAA,CAAKC,MAAM,CACfC,IAAAA,wCAAAA,EAAyB,UAAU;YACjC5B;YACAE;YACA2B,IAAIzB;YACJ,GAAID,oBAAoB2B,aAAa;gBAAE,gBAAgBxB;YAAgB,CAAC;YACxEO;YACA,GAAGd,KAAK;QACV,IACA;YAAEgC,aAAa;QAAS;QAG1BT,OAAOI,oBAAAA,CAAKM,QAAQ,CAACjC,MAAMuB,KAAK,EAAE;YAAES,aAAa;QAAO;QACxDR,MAAMG,oBAAAA,CAAKM,QAAQ,CAACjC,MAAMwB,IAAI,EAAE;YAAEQ,aAAa;QAAO;QACtDP,aAAaE,oBAAAA,CAAKM,QAAQ,CAACjC,MAAMyB,WAAW,EAAE;YAC5CS,iBAAiB;YACjBC,cAAc;gBACZC,UAAUpC,MAAMoC,QAAQ;YAC1B;YACAJ,aAAa;QACf;QACAN,eAAeC,oBAAAA,CAAKM,QAAQ,CAACjC,MAAM0B,aAAa,EAAE;YAAEM,aAAa;QAAO;IAC1E;AACF"}