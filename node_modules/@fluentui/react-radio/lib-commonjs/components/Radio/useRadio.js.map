{"version":3,"sources":["../src/components/Radio/useRadio.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Label } from '@fluentui/react-label';\nimport { getPartitionedNativeProps, mergeCallbacks, useId, slot } from '@fluentui/react-utilities';\nimport { useRadioGroupContextValue_unstable } from '../../contexts/RadioGroupContext';\nimport { useFocusWithin } from '@fluentui/react-tabster';\nimport type { RadioProps, RadioState } from './Radio.types';\n\n/**\n * Create the state required to render Radio.\n *\n * The returned state can be modified with hooks such as useRadioStyles_unstable,\n * before being passed to renderRadio_unstable.\n *\n * @param props - props from this instance of Radio\n * @param ref - reference to `<input>` element of Radio\n */\nexport const useRadio_unstable = (props: RadioProps, ref: React.Ref<HTMLInputElement>): RadioState => {\n  const group = useRadioGroupContextValue_unstable();\n\n  const {\n    name = group.name,\n    checked = group.value !== undefined ? group.value === props.value : undefined,\n    defaultChecked = group.defaultValue !== undefined ? group.defaultValue === props.value : undefined,\n    labelPosition = group.layout === 'horizontal-stacked' ? 'below' : 'after',\n    disabled = group.disabled,\n    required = group.required,\n    'aria-describedby': ariaDescribedBy = group['aria-describedby'],\n    onChange,\n  } = props;\n\n  const nativeProps = getPartitionedNativeProps({\n    props,\n    primarySlotTagName: 'input',\n    excludedPropNames: ['checked', 'defaultChecked', 'onChange'],\n  });\n\n  const root = slot.always(props.root, {\n    defaultProps: {\n      ref: useFocusWithin<HTMLSpanElement>(),\n      ...nativeProps.root,\n    },\n    elementType: 'span',\n  });\n  const input = slot.always(props.input, {\n    defaultProps: {\n      ref,\n      type: 'radio',\n      id: useId('radio-', nativeProps.primary.id),\n      name,\n      checked,\n      defaultChecked,\n      disabled,\n      required,\n      'aria-describedby': ariaDescribedBy,\n      ...nativeProps.primary,\n    },\n    elementType: 'input',\n  });\n  input.onChange = mergeCallbacks(input.onChange, ev => onChange?.(ev, { value: ev.currentTarget.value }));\n  const label = slot.optional(props.label, {\n    defaultProps: { htmlFor: input.id, disabled: input.disabled },\n    elementType: Label,\n  });\n  const indicator = slot.always(props.indicator, {\n    defaultProps: { 'aria-hidden': true },\n    elementType: 'div',\n  });\n  return {\n    labelPosition,\n    components: { root: 'span', input: 'input', label: Label, indicator: 'div' },\n    root,\n    input,\n    label,\n    indicator,\n  };\n};\n"],"names":["useRadio_unstable","props","ref","group","useRadioGroupContextValue_unstable","name","checked","value","undefined","defaultChecked","defaultValue","labelPosition","layout","disabled","required","ariaDescribedBy","onChange","nativeProps","getPartitionedNativeProps","primarySlotTagName","excludedPropNames","root","slot","always","defaultProps","useFocusWithin","elementType","input","type","id","useId","primary","mergeCallbacks","ev","currentTarget","label","optional","htmlFor","Label","indicator","components"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAgBaA;;;eAAAA;;;;iEAhBU;4BACD;gCACiD;mCACpB;8BACpB;AAYxB,MAAMA,oBAAoB,CAACC,OAAmBC;IACnD,MAAMC,QAAQC,IAAAA,qDAAAA;IAEd,MAAM,EACJC,OAAOF,MAAME,IAAI,EACjBC,UAAUH,MAAMI,KAAK,KAAKC,YAAYL,MAAMI,KAAK,KAAKN,MAAMM,KAAK,GAAGC,SAAS,EAC7EC,iBAAiBN,MAAMO,YAAY,KAAKF,YAAYL,MAAMO,YAAY,KAAKT,MAAMM,KAAK,GAAGC,SAAS,EAClGG,gBAAgBR,MAAMS,MAAM,KAAK,uBAAuB,UAAU,OAAO,EACzEC,WAAWV,MAAMU,QAAQ,EACzBC,WAAWX,MAAMW,QAAQ,EACzB,oBAAoBC,kBAAkBZ,KAAK,CAAC,mBAAmB,EAC/Da,QAAQ,EACT,GAAGf;IAEJ,MAAMgB,cAAcC,IAAAA,yCAAAA,EAA0B;QAC5CjB;QACAkB,oBAAoB;QACpBC,mBAAmB;YAAC;YAAW;YAAkB;SAAW;IAC9D;IAEA,MAAMC,OAAOC,oBAAAA,CAAKC,MAAM,CAACtB,MAAMoB,IAAI,EAAE;QACnCG,cAAc;YACZtB,KAAKuB,IAAAA,4BAAAA;YACL,GAAGR,YAAYI,IAAI;QACrB;QACAK,aAAa;IACf;IACA,MAAMC,QAAQL,oBAAAA,CAAKC,MAAM,CAACtB,MAAM0B,KAAK,EAAE;QACrCH,cAAc;YACZtB;YACA0B,MAAM;YACNC,IAAIC,IAAAA,qBAAAA,EAAM,UAAUb,YAAYc,OAAO,CAACF,EAAE;YAC1CxB;YACAC;YACAG;YACAI;YACAC;YACA,oBAAoBC;YACpB,GAAGE,YAAYc,OAAO;QACxB;QACAL,aAAa;IACf;IACAC,MAAMX,QAAQ,GAAGgB,IAAAA,8BAAAA,EAAeL,MAAMX,QAAQ,EAAEiB,CAAAA,KAAMjB,aAAAA,QAAAA,aAAAA,KAAAA,IAAAA,KAAAA,IAAAA,SAAWiB,IAAI;YAAE1B,OAAO0B,GAAGC,aAAa,CAAC3B,KAAK;QAAC;IACrG,MAAM4B,QAAQb,oBAAAA,CAAKc,QAAQ,CAACnC,MAAMkC,KAAK,EAAE;QACvCX,cAAc;YAAEa,SAASV,MAAME,EAAE;YAAEhB,UAAUc,MAAMd,QAAQ;QAAC;QAC5Da,aAAaY,iBAAAA;IACf;IACA,MAAMC,YAAYjB,oBAAAA,CAAKC,MAAM,CAACtB,MAAMsC,SAAS,EAAE;QAC7Cf,cAAc;YAAE,eAAe;QAAK;QACpCE,aAAa;IACf;IACA,OAAO;QACLf;QACA6B,YAAY;YAAEnB,MAAM;YAAQM,OAAO;YAASQ,OAAOG,iBAAAA;YAAOC,WAAW;QAAM;QAC3ElB;QACAM;QACAQ;QACAI;IACF;AACF"}