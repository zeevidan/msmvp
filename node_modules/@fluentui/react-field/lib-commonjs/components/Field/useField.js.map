{"version":3,"sources":["../src/components/Field/useField.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { CheckmarkCircle12Filled, ErrorCircle12Filled, Warning12Filled } from '@fluentui/react-icons';\nimport { Label } from '@fluentui/react-label';\nimport { getIntrinsicElementProps, useId, slot } from '@fluentui/react-utilities';\nimport type { FieldProps, FieldState } from './Field.types';\n\nconst validationMessageIcons = {\n  error: <ErrorCircle12Filled />,\n  warning: <Warning12Filled />,\n  success: <CheckmarkCircle12Filled />,\n  none: undefined,\n} as const;\n\n/**\n * Create the state required to render Field.\n *\n * The returned state can be modified with hooks such as useFieldStyles_unstable,\n * before being passed to renderField_unstable.\n *\n * @param props - Props passed to this field\n * @param ref - Ref to the root\n */\nexport const useField_unstable = (props: FieldProps, ref: React.Ref<HTMLDivElement>): FieldState => {\n  const {\n    children,\n    orientation = 'vertical',\n    required = false,\n    validationState = props.validationMessage ? 'error' : 'none',\n    size = 'medium',\n  } = props;\n\n  const baseId = useId('field-');\n  const generatedControlId = baseId + '__control';\n\n  const root = slot.always(getIntrinsicElementProps('div', { ...props, ref }, /*excludedPropNames:*/ ['children']), {\n    elementType: 'div',\n  });\n  const label = slot.optional(props.label, {\n    defaultProps: { htmlFor: generatedControlId, id: baseId + '__label', required, size },\n    elementType: Label,\n  });\n  const validationMessage = slot.optional(props.validationMessage, {\n    defaultProps: {\n      id: baseId + '__validationMessage',\n      role: validationState === 'error' || validationState === 'warning' ? 'alert' : undefined,\n    },\n    elementType: 'div',\n  });\n  const hint = slot.optional(props.hint, { defaultProps: { id: baseId + '__hint' }, elementType: 'div' });\n  const defaultIcon = validationMessageIcons[validationState];\n  const validationMessageIcon = slot.optional(props.validationMessageIcon, {\n    renderByDefault: !!defaultIcon,\n    defaultProps: { children: defaultIcon },\n    elementType: 'span',\n  });\n\n  return {\n    children,\n    generatedControlId,\n    orientation,\n    required,\n    size,\n    validationState,\n    components: { root: 'div', label: Label, validationMessage: 'div', validationMessageIcon: 'span', hint: 'div' },\n    root,\n    label,\n    validationMessageIcon,\n    validationMessage,\n    hint,\n  };\n};\n"],"names":["useField_unstable","validationMessageIcons","error","React","createElement","ErrorCircle12Filled","warning","Warning12Filled","success","CheckmarkCircle12Filled","none","undefined","props","ref","children","orientation","required","validationState","validationMessage","size","baseId","useId","generatedControlId","root","slot","always","getIntrinsicElementProps","elementType","label","optional","defaultProps","htmlFor","id","Label","role","hint","defaultIcon","validationMessageIcon","renderByDefault","components"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAuBaA;;;eAAAA;;;;iEAvBU;4BAEuD;4BACxD;gCACgC;AAGtD,MAAMC,yBAAyB;IAC7BC,OAAAA,WAAAA,GAAOC,OAAAC,aAAA,CAACC,+BAAAA,EAAAA;IACRC,SAAAA,WAAAA,GAASH,OAAAC,aAAA,CAACG,2BAAAA,EAAAA;IACVC,SAAAA,WAAAA,GAASL,OAAAC,aAAA,CAACK,mCAAAA,EAAAA;IACVC,MAAMC;AACR;AAWO,MAAMX,oBAAoB,CAACY,OAAmBC;IACnD,MAAM,EACJC,QAAQ,EACRC,cAAc,UAAU,EACxBC,WAAW,KAAK,EAChBC,kBAAkBL,MAAMM,iBAAiB,GAAG,UAAU,MAAM,EAC5DC,OAAO,QAAQ,EAChB,GAAGP;IAEJ,MAAMQ,SAASC,IAAAA,qBAAAA,EAAM;IACrB,MAAMC,qBAAqBF,SAAS;IAEpC,MAAMG,OAAOC,oBAAAA,CAAKC,MAAM,CAACC,IAAAA,wCAAAA,EAAyB,OAAO;QAAE,GAAGd,KAAK;QAAEC;IAAI,GAAG,oBAAoB,GAAG;QAAC;KAAW,GAAG;QAChHc,aAAa;IACf;IACA,MAAMC,QAAQJ,oBAAAA,CAAKK,QAAQ,CAACjB,MAAMgB,KAAK,EAAE;QACvCE,cAAc;YAAEC,SAAST;YAAoBU,IAAIZ,SAAS;YAAWJ;YAAUG;QAAK;QACpFQ,aAAaM,iBAAAA;IACf;IACA,MAAMf,oBAAoBM,oBAAAA,CAAKK,QAAQ,CAACjB,MAAMM,iBAAiB,EAAE;QAC/DY,cAAc;YACZE,IAAIZ,SAAS;YACbc,MAAMjB,oBAAoB,WAAWA,oBAAoB,YAAY,UAAUN;QACjF;QACAgB,aAAa;IACf;IACA,MAAMQ,OAAOX,oBAAAA,CAAKK,QAAQ,CAACjB,MAAMuB,IAAI,EAAE;QAAEL,cAAc;YAAEE,IAAIZ,SAAS;QAAS;QAAGO,aAAa;IAAM;IACrG,MAAMS,cAAcnC,sBAAsB,CAACgB,gBAAgB;IAC3D,MAAMoB,wBAAwBb,oBAAAA,CAAKK,QAAQ,CAACjB,MAAMyB,qBAAqB,EAAE;QACvEC,iBAAiB,CAAC,CAACF;QACnBN,cAAc;YAAEhB,UAAUsB;QAAY;QACtCT,aAAa;IACf;IAEA,OAAO;QACLb;QACAQ;QACAP;QACAC;QACAG;QACAF;QACAsB,YAAY;YAAEhB,MAAM;YAAOK,OAAOK,iBAAAA;YAAOf,mBAAmB;YAAOmB,uBAAuB;YAAQF,MAAM;QAAM;QAC9GZ;QACAK;QACAS;QACAnB;QACAiB;IACF;AACF"}