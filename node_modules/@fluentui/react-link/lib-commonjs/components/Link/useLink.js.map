{"version":3,"sources":["../src/components/Link/useLink.ts"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, slot } from '@fluentui/react-utilities';\nimport { useBackgroundAppearance } from '@fluentui/react-shared-contexts';\nimport { useLinkState_unstable } from './useLinkState';\nimport type { LinkProps, LinkState } from './Link.types';\nimport { useLinkContext } from '../../contexts/linkContext';\n\n/**\n * Given user props, defines default props for the Link, calls useLinkState_unstable, and returns processed state.\n * @param props - User provided props to the Link component.\n * @param ref - User provided ref to be passed to the Link component.\n */\nexport const useLink_unstable = (\n  props: LinkProps,\n  ref: React.Ref<HTMLAnchorElement | HTMLButtonElement | HTMLSpanElement>,\n): LinkState => {\n  const backgroundAppearance = useBackgroundAppearance();\n  const { inline: inlineContext } = useLinkContext();\n  const { appearance = 'default', disabled = false, disabledFocusable = false, inline = false } = props;\n\n  const elementType = props.as || (props.href ? 'a' : 'button');\n\n  // Casting is required here as `as` prop would break the union between `a`, `button` and `span` types\n  const propsWithAssignedAs = {\n    role: elementType === 'span' ? 'button' : undefined,\n    type: elementType === 'button' ? 'button' : undefined,\n    ...props,\n    as: elementType,\n  } as LinkProps;\n\n  const state: LinkState = {\n    // Props passed at the top-level\n    appearance,\n    disabled,\n    disabledFocusable,\n    inline: inline ?? !!inlineContext,\n\n    // Slots definition\n    components: {\n      root: elementType,\n    },\n\n    root: slot.always(\n      getIntrinsicElementProps<LinkProps>(elementType, {\n        ref,\n        ...propsWithAssignedAs,\n      } as const),\n      { elementType },\n    ),\n    backgroundAppearance,\n  };\n\n  useLinkState_unstable(state);\n\n  return state;\n};\n"],"names":["useLink_unstable","props","ref","backgroundAppearance","useBackgroundAppearance","inline","inlineContext","useLinkContext","appearance","disabled","disabledFocusable","elementType","as","href","propsWithAssignedAs","role","undefined","type","state","components","root","slot","always","getIntrinsicElementProps","useLinkState_unstable"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAYaA;;;eAAAA;;;;iEAZU;gCACwB;qCACP;8BACF;6BAEP;AAOxB,MAAMA,mBAAmB,CAC9BC,OACAC;IAEA,MAAMC,uBAAuBC,IAAAA,4CAAAA;IAC7B,MAAM,EAAEC,QAAQC,aAAa,EAAE,GAAGC,IAAAA,2BAAAA;IAClC,MAAM,EAAEC,aAAa,SAAS,EAAEC,WAAW,KAAK,EAAEC,oBAAoB,KAAK,EAAEL,SAAS,KAAK,EAAE,GAAGJ;IAEhG,MAAMU,cAAcV,MAAMW,EAAE,IAAKX,CAAAA,MAAMY,IAAI,GAAG,MAAM,QAAA;IAEpD,qGAAqG;IACrG,MAAMC,sBAAsB;QAC1BC,MAAMJ,gBAAgB,SAAS,WAAWK;QAC1CC,MAAMN,gBAAgB,WAAW,WAAWK;QAC5C,GAAGf,KAAK;QACRW,IAAID;IACN;IAEA,MAAMO,QAAmB;QACvB,gCAAgC;QAChCV;QACAC;QACAC;QACAL,QAAQA,WAAAA,QAAAA,WAAAA,KAAAA,IAAAA,SAAU,CAAC,CAACC;QAEpB,mBAAmB;QACnBa,YAAY;YACVC,MAAMT;QACR;QAEAS,MAAMC,oBAAAA,CAAKC,MAAM,CACfC,IAAAA,wCAAAA,EAAoCZ,aAAa;YAC/CT;YACA,GAAGY,mBAAmB;QACxB,IACA;YAAEH;QAAY;QAEhBR;IACF;IAEAqB,IAAAA,mCAAAA,EAAsBN;IAEtB,OAAOA;AACT"}