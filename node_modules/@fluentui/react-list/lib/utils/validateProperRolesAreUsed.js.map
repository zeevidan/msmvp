{"version":3,"sources":["../src/utils/validateProperRolesAreUsed.ts"],"sourcesContent":["/**\n * Validate that the proper roles are used for the given combination of roles and states.\n * If the roles are invalid and we're not running in production mode, an warning will be logged to the console.\n *\n * @param role - the role of the list\n * @param listItemRole - the role of the list item\n * @param hasSelection - whether the list has selection enabled\n * @param hasFocusableChildren - whether the list has focusable children\n * @returns\n */\nexport const validateProperRolesAreUsed = (\n  role: string,\n  listItemRole: string,\n  hasSelection: boolean,\n  hasFocusableChildren: boolean,\n) => {\n  // Explode when the pair of roles is invalid\n  if (role === 'list' && listItemRole !== 'listitem') {\n    throw new Error('When the List role is \"list\", ListItem role must be \"listitem\".');\n  }\n  if (role === 'listbox' && listItemRole !== 'option') {\n    throw new Error('When the List role is \"listbox\", ListItem role must be \"option\".');\n  }\n  if (role === 'grid' && listItemRole !== 'row') {\n    throw new Error('When the List role is \"grid\", ListItem role must be \"row\".');\n  }\n\n  const expectedRole = (() => {\n    if (hasFocusableChildren) {\n      return 'grid';\n    } else {\n      if (hasSelection) {\n        return 'listbox';\n      } else {\n        return 'list';\n      }\n    }\n  })();\n\n  if (role !== expectedRole) {\n    /* eslint-disable-next-line no-console */\n    console.warn(`@fluentui/react-list [useList]:\\nThe role \"${role}\" does not match the expected role \"${expectedRole}\".\\nPlease use the \"navigationMode\" property for automatic role assignment and keyboard navigation.\\nIf you are using this role intentionally, make sure to verify screen reader support.\n    `);\n  }\n};\n"],"names":["validateProperRolesAreUsed","role","listItemRole","hasSelection","hasFocusableChildren","Error","expectedRole","console","warn"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA;;;;;;;;;CASC,GACD,OAAO,MAAMA,6BAA6B,CACxCC,MACAC,cACAC,cACAC;IAEA,4CAA4C;IAC5C,IAAIH,SAAS,UAAUC,iBAAiB,YAAY;QAClD,MAAM,IAAIG,MAAM;IAClB;IACA,IAAIJ,SAAS,aAAaC,iBAAiB,UAAU;QACnD,MAAM,IAAIG,MAAM;IAClB;IACA,IAAIJ,SAAS,UAAUC,iBAAiB,OAAO;QAC7C,MAAM,IAAIG,MAAM;IAClB;IAEA,MAAMC,eAAe,AAAC,CAAA;QACpB,IAAIF,sBAAsB;YACxB,OAAO;QACT,OAAO;YACL,IAAID,cAAc;gBAChB,OAAO;YACT,OAAO;gBACL,OAAO;YACT;QACF;IACF,CAAA;IAEA,IAAIF,SAASK,cAAc;QACzB,uCAAuC,GACvCC,QAAQC,IAAI,CAAC,CAAC,2CAA2C,EAAEP,KAAK,oCAAoC,EAAEK,aAAa;IACnH,CAAC;IACH;AACF,EAAE"}