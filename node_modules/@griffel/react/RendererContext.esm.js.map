{"version":3,"file":"RendererContext.esm.js","sources":["../../../packages/react/src/RendererContext.tsx"],"sourcesContent":["import { createDOMRenderer, rehydrateRendererCache } from '@griffel/core';\nimport type { GriffelRenderer } from '@griffel/core';\nimport * as React from 'react';\n\nimport { canUseDOM } from './utils/canUseDOM';\n\nexport interface RendererProviderProps {\n  /** An instance of Griffel renderer. */\n  renderer: GriffelRenderer;\n\n  /**\n   * Document used to insert CSS variables to head\n   */\n  targetDocument?: Document;\n\n  /**\n   * Content wrapped by the RendererProvider\n   */\n  children: React.ReactNode;\n}\n\n/**\n * @private\n */\nconst RendererContext = React.createContext<GriffelRenderer>(createDOMRenderer());\n\n/**\n * @public\n */\nexport const RendererProvider: React.FC<RendererProviderProps> = ({ children, renderer, targetDocument }) => {\n  React.useMemo(() => {\n    if (canUseDOM()) {\n      // \"rehydrateCache()\" can't be called in effects as it needs to be called before any component will be rendered to\n      // avoid double insertion of classes\n      rehydrateRendererCache(renderer, targetDocument);\n    }\n  }, [renderer, targetDocument]);\n\n  return <RendererContext.Provider value={renderer}>{children}</RendererContext.Provider>;\n};\n\n/**\n * Returns an instance of current makeStyles() renderer.\n *\n * @private Exported as \"useRenderer_unstable\" use it on own risk. Can be changed or removed without a notice.\n */\nexport function useRenderer(): GriffelRenderer {\n  return React.useContext(RendererContext);\n}\n"],"names":["RendererContext","React","createContext","createDOMRenderer","RendererProvider","children","renderer","targetDocument","useMemo","canUseDOM","rehydrateRendererCache","createElement","Provider","value","useRenderer","useContext"],"mappings":";;;;AAqBA;;AAEG;AACH,MAAMA,eAAe,gBAAGC,KAAK,CAACC,aAAa,eAAkBC,iBAAiB,EAAE,CAAC,CAAA;AAEjF;;AAEG;AACI,MAAMC,gBAAgB,GAAoCA,CAAC;EAAEC,QAAQ;EAAEC,QAAQ;AAAEC,EAAAA,cAAAA;AAAc,CAAE,KAAI;EAC1GN,KAAK,CAACO,OAAO,CAAC,MAAK;IACjB,IAAIC,SAAS,EAAE,EAAE;AACf;AACA;AACAC,MAAAA,sBAAsB,CAACJ,QAAQ,EAAEC,cAAc,CAAC,CAAA;AAClD,KAAA;AACF,GAAC,EAAE,CAACD,QAAQ,EAAEC,cAAc,CAAC,CAAC,CAAA;AAE9B,EAAA,oBAAON,KAAA,CAAAU,aAAA,CAACX,eAAe,CAACY,QAAQ,EAAA;AAACC,IAAAA,KAAK,EAAEP,QAAAA;GAAQ,EAAGD,QAAQ,CAA4B,CAAA;AACzF,EAAC;AAED;;;;AAIG;SACaS,WAAWA,GAAA;AACzB,EAAA,OAAOb,KAAK,CAACc,UAAU,CAACf,eAAe,CAAC,CAAA;AAC1C;;;;"}